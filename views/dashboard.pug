extends layout.pug

block content
  <div class="flex">
      img(src=user.images[0].url, class="circular_image")
      h1 Welcome! #{user.display_name}
  </div>

  <div class="table">

  h2 Liked tracks:

    table
      each t in tracks
        tr.track-box
          - var artist_name = t.track.artists[0].name
          - var track_name = t.track.name
          - var track_preview = t.track.preview_url
          - var artist_id = t.track.artists[0].id
          - var track_id = t.track.id

            td #{artist_name}
            td: a(href="/recommendations?artist=" + artist_id + "&track=" + track_id) #{track_name}
            td: a(href=track_preview, target="_blank", rel="noopener noreferrer") Preview
  </div>
